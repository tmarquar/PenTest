<?php //verifier.php
class Verifier
{
    // connection info first
    private $conn;
    private $table_name = "device_register";
    
    // object properties
    private $name;
    private $token;
    
    public function __construct($db)
    {
        $this->conn     = $db;
        $this->name     = NULL;
        $this->token    = NULL;
    }
    
    function verify($toke)
    {
        $this->token    = $toke;
        $query  = "SELECT
                        Device_Name
                    FROM ". $this->table_name ."
                    WHERE Device_Token = '". $this->token ."'";
        
        $stmt   = $this->conn->prepare($query);
        $stmt->execute();
        $total  = $stmt->rowCount();
        
        if ($total > 0)
        {
            $row        = $stmt->fetch(PDO::FETCH_ASSOC);
            $this->name = $row['Device_Name'];
            return true;
        }
        return false;
    }
}
?>